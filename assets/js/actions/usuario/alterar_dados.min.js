$(function(){function a(a){var e=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&<>|ªº`´~¨§*])(?=.{8,})");return!!e.test(a)}function e(a,e){""!==a&&""!==e?$("#btn-alterar-senha").prop("disabled",!1).removeClass("btn-primary").addClass("btn-success"):$("#btn-alterar-senha").prop("disabled",!0).removeClass("btn-success").addClass("btn-primary")}function t(a,e,t){$("#avisos-alterar-dados > *").remove(),$("#avisos-alterar-dados").addClass(e),$("<p>",{text:" "+a,prepend:$("<i>",{class:t})}).appendTo("#avisos-alterar-dados"),setTimeout(function(){$("#avisos-alterar-dados > *").remove(),$("#avisos-alterar-dados").removeClass(e),$(".form-signin").css("height","420px")},5e3),$(".form-signin").css("height","460px")}$("#txtSenha").keyup(function(){e($(this).val(),$("#txtSenhaConfirmar").val())}),$("#txtSenhaConfirmar").keyup(function(){e($("#txtSenha").val(),$(this).val())}),$("#txtSenha").focusout(function(){""!==$(this).val()&&(a($("#txtSenha").val())||($("#txtSenha").select(),$("#txtSenhaConfirmar").val(""),t("A senha deve conter ao menos 1 caracter especial, 1 letra maiúscula, 1 letra minúscula, 1 número e no mínimo 8 caracteres!","alert alert-danger","glyphicon glyphicon-exclamation-sign")))}),$("#btn-alterar-senha").click(function(a){a.preventDefault();var e=$.trim($("#txtSenha").val()),n=$.trim($("#txtSenhaConfirmar").val());if(e!==n)$("#txtSenha").select(),$("#txtSenhaConfirmar").val(""),t("As senhas não coincidem!","alert alert-danger","glyphicon glyphicon-exclamation-sign");else{var s=new Usuario,r=null;r=s.atualizar(e),$.isEmptyObject(r)||(JSON.parse(r.status)?(t("Senha alterada com sucesso!","alert alert-success","glyphicon glyphicon-ok"),$("#fs-log").length>0&&setTimeout(function(){$(location).attr("href",$("#fs-log").val())},5e3)):t(r.log,"alert alert-danger","glyphicon glyphicon-exclamation-sign"),$("#txtSenha").val(""),$("#txtSenhaConfirmar").val(""))}})});