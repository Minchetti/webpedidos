(function(){this.Requisicao=function(){this.Produtos=[],this.Funcionarios=[],this.Emissao=(new Date).toISOString().substring(0,10),this.Log=[],this.Observacao="",$.ajaxSetup({dataType:"JSON",type:"POST"}),Requisicao.prototype.produtos=function(o){this.Produtos=o},Requisicao.prototype.funcionarios=function(o){this.Funcionarios=o},Requisicao.prototype.observacao=function(o){this.Observacao=o},Requisicao.prototype.gerarPedido=function(){var o=null;return $.isEmptyObject(this.Produtos)||$.isEmptyObject(this.Funcionarios)?($.isEmptyObject(this.Produtos)&&(o={callback:!1,Produtos:"Não pode ser vazio"}),$.isEmptyObject(this.Funcionarios)&&(o={callback:!1,Funcionarios:"Não pode ser vazio"})):$.ajax({url:"pedido/requisicao/nova",async:!1,data:{produtos:this.Produtos,funcionarios:this.Funcionarios,emissao:this.Emissao,observacao:this.Observacao.toUpperCase()},success:function(a){o=a},error:function(a,i,e){switch(a.status){case 200:o={callback:!1};break;case 500:o={callback:!1}}}}),o},Requisicao.prototype.localizarPedido=function(o,a){var i=null;return $.ajax({url:"pedido/requisicao/procurar",async:!1,beforeSend:function(){$("<div>",{title:"Carregando dados...",id:"loader",append:$("<p>",{class:"text-center",text:"Por favor, aguarde até que os dados sejam carregados."})}).appendTo("body"),$("#loader").dialog({modal:!0})},data:{criteria:JSON.stringify(o),pagina:a},success:function(o){$("#loader").dialog("close"),$("#loader").remove(),i=o},error:function(o){i=o}}),i},Requisicao.prototype.listarPendentes=function(o,a){var i=null;return $.ajax({url:"pedido/requisicao/listarsolicitacoes",async:!1,beforeSend:function(){$("<div>",{title:"Carregando dados...",id:"loader",append:$("<p>",{class:"text-center",text:"Por favor, aguarde até que os dados sejam carregados."})}).appendTo("body"),$("#loader").dialog({modal:!0})},data:{criteria:JSON.stringify(o),pagina:a},success:function(o){$("#loader").dialog("close"),$("#loader").remove(),i=o},error:function(o){i=o}}),i},Requisicao.prototype.aprovar=function(o,a,i){var e=null;return $.ajax({url:"pedido/requisicao/aprovar",async:!1,data:{solicitacao:parseInt(o,10),aprovacao:a,motivo:i.toUpperCase()},success:function(o){e=o},error:function(o,a,i){switch(o.status){case 200:e={callback:!1};break;case 500:e={callback:!1}}}}),e}}})();